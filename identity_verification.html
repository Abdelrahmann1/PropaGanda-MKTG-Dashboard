<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>My Wallet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class="container-fluid position-relative bg-white d-flex p-0">
        <!-- Spinner Start -->
        <div id="spinner"
            class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->


        <!-- Sidebar Start -->
        <div class="sidebar pe-4 pb-3">
            <nav class="navbar bg-light navbar-light">
                <a href="index.html" class="navbar-brand mx-4 mb-3">
                    <h3 class="text-primary"><i class="fa fa-hashtag me-2"></i>DASHMIN</h3>
                </a>
                <div class="d-flex align-items-center ms-4 mb-4">
                    <div class="position-relative">
                        <img class="rounded-circle profile-pic" src="img/user.jpg" alt=""
                            style="width: 40px; height: 40px;">
                        <div
                            class="bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1">
                        </div>
                    </div>
                    <div class="ms-3">
                        <h6 class="mb-0 userEmail">Abdelrhman</h6>
                        <span>Content Creator</span>
                    </div>
                </div>
                <div class="navbar-nav w-100">
                    <a href="index.html" class="nav-item nav-link "><i
                            class="fa fa-tachometer-alt me-2"></i>Dashboard</a>

                    <a href="createProfile.html" class="nav-item nav-link"><i class="fa fa-user-plus me-2"></i>Create
                        Profile <i class="fa-solid fa-hourglass-end hourglass createHourglass"></i><i
                            class="fa-solid fa-square-check squarechecks d-none createCheck"></i></a>
                    <a href="identity_verification.html" class="nav-item nav-link active"><i
                            class="fa fa-id-card me-2"></i>Verify Account <i
                            class="fa-solid fa-hourglass-end hourglass walletHourglass"></i><i
                            class="fa-solid fa-square-check squarechecks d-none walletCheck"></i></a>


                    <a href="create_packages.html" class="nav-item nav-link"><i class="fa fa-box me-2"></i>Create
                        Packages<i class="fa-solid fa-hourglass-end hourglass packagesHourglass"></i><i
                            class="fa-solid fa-square-check squarechecks d-none packagesCheck"></i></a></a>

                    <a href="my_wallet.html" class="nav-item nav-link"><i class="fa fa-wallet me-2"></i>My Wallet</a>

                    <a href="accountSettings.html" class="nav-item nav-link"><i class="fa fa-cogs me-2"></i>Account
                        Settings</a>
                    <a href="support.html" class="nav-item nav-link"><i class="fa fa-cogs me-2"></i>Support
                    </a>

                </div>
            </nav>
        </div>
        <!-- Sidebar End -->


        <!-- Content Start -->
        <div class="content">
            <!-- Navbar Start -->
            <nav class="navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0">
                <a href="index.html" class="navbar-brand d-flex d-lg-none me-4">
                    <h2 class="text-primary mb-0"><i class="fa fa-hashtag"></i></h2>
                </a>
                <a href="#" class="sidebar-toggler flex-shrink-0">
                    <i class="fa fa-bars"></i>
                </a>
                <form class="d-none d-md-flex ms-4">
                    <input class="form-control border-0" type="search" placeholder="Search">
                </form>
                <div class="navbar-nav align-items-center ms-auto">
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fa fa-envelope me-lg-2"></i>
                            <span class="d-none d-lg-inline-flex">Message</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt=""
                                        style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">Jhon send you a message</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt=""
                                        style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">Jhon send you a message</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <div class="d-flex align-items-center">
                                    <img class="rounded-circle" src="img/user.jpg" alt=""
                                        style="width: 40px; height: 40px;">
                                    <div class="ms-2">
                                        <h6 class="fw-normal mb-0">Jhon send you a message</h6>
                                        <small>15 minutes ago</small>
                                    </div>
                                </div>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item text-center">See all message</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <i class="fa fa-bell me-lg-2"></i>
                            <span class="d-none d-lg-inline-flex">Notificatin</span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">Profile updated</h6>
                                <small>15 minutes ago</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">New user added</h6>
                                <small>15 minutes ago</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item">
                                <h6 class="fw-normal mb-0">Password changed</h6>
                                <small>15 minutes ago</small>
                            </a>
                            <hr class="dropdown-divider">
                            <a href="#" class="dropdown-item text-center">See all notifications</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                            <img class="profile-pic rounded-circle me-lg-2" src="img/user.jpg" alt=""
                                style="width: 40px; height: 40px;">
                            <span class="d-none userEmail d-lg-inline-flex"></span>
                        </a>
                        <div class="dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0">
                            <a href="#" class="dropdown-item">My Profile</a>
                            <a href="#" class="dropdown-item">Settings</a>
                            <a href="#" class="dropdown-item">Log Out</a>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Navbar End -->


            <!-- Form Start -->

            <div class="container mt-5">
                <form id="verifyform">

                    <div class="progressupperdiv mb-5">
                        <div class="progressupperdiv">
                            <div class="progress" role="progressbar" aria-label="Success striped example"
                                aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar progress-bar-striped bg-success" id="pregresssbarcreate"
                                    style="width: 50%">%0</div>
                            </div>
                        </div>
                    </div>
                    <h2>Identity Verification</h2>
                    <p>You can submit a request to verify your account using one of the following methods:</p>

                    <label class="form-label">Document Type</label>
                    <div class="mb-3 choosingid">

                        <div class="plans">
                            <label class="plan plan-passport" for="planPassport">
                                <input type="radio" id="planPassport" name="identificationPlan" value="passport" />
                                <div class="plan-content">
                                    <div class="plan-details">
                                        <i class="fa fa-passport faas"></i>
                                        <span>Passport</span>
                                    </div>
                                </div>
                            </label>

                            <label class="plan plan-drivers-license" for="planDriversLicense">
                                <input type="radio" id="planDriversLicense" name="identificationPlan"
                                    value="drivers_license" />
                                <div class="plan-content">
                                    <div class="plan-details">
                                        <i class="fa fa-id-card faas"></i>
                                        <span>Driver's License</span>
                                    </div>
                                </div>
                            </label>

                            <label class="plan plan-id-card" for="planIdCard">
                                <input type="radio" id="planIdCard" name="identificationPlan" checked value="id_card" />
                                <div class="plan-content">
                                    <div class="plan-details">
                                        <i class="fa fa-id-card faas"></i>
                                        <span>ID Card Permit</span>
                                    </div>
                                </div>
                            </label>
                        </div>


                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="issueCountry" class="form-label">Country of Issue</label>
                            <select class="form-select" id="issueCountry">
                                <option value="" disabled selected>Select Country</option>
                                <option value="egypt">Egypt</option>
                                <option value="saudiArabia">Saudi Arabia</option>
                                <option value="uae">UAE</option>
                            </select>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="region" class="form-label">Region</label>
                            <select class="form-select" id="region">
                                <option value="">Select Region</option>
                            </select>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="detailedAddress" class="form-label">Detailed Address</label>
                        <input type="text" class="form-control" id="detailedAddress">
                    </div>

                    <div class="mb-3">
                        <label for="idNumber" class="form-label">Enter ID Number or Passport Number</label>
                        <input type="text" class="form-control" id="idNumber">
                    </div>

                    <!-- <div class="mb-3">
                    <label class="form-label">Upload Front Image of the Document</label>
                    <input type="file" class="form-control" id="frontImageUpload" accept="image/*">
                    <div class="form-text">Recommended Dimensions 500x300 px</div>
                </div> -->
                    <div class="upload-container" style="margin: 20px 0;">
                        <div class="before-upload" id="before-upload1">
                            <i class="fa-solid fa-upload uploadicon"></i>
                            <p style="font-size: 20px;margin-bottom: 0;">Upload Front Image of the Document</p>
                            <span style="font-size: 15px;">Recommended Dimensions 500x300 px</span>
                            <input type="file" class="media-upload" accept="image/*" id="frontImageUpload"
                                style="display:none;">
                        </div>
                        <div class="after-upload" id="after-upload1" style="display:none;">
                            <img class="uploaded-media" id="fronimg" src="" alt="Uploaded Image" style="width:auto"
                                style="width:100%; display:none;">
                        </div>
                    </div>
                    <div class="upload-container" style="margin: 20px 0;">
                        <div class="before-upload" id="before-upload2">
                            <i class="fa-solid fa-upload uploadicon"></i>
                            <p style="font-size: 20px;margin-bottom: 0;">Upload Back Image of the Document or Any
                                Supporting Document</p>
                            <span style="font-size: 15px;">Recommended Dimensions 500x300 px</span>
                            <input type="file" class="media-upload" accept="image/*" id="backImageUpload"
                                style="display:none;">
                        </div>
                        <div class="after-upload" id="after-upload2" style="display:none;">
                            <img class="uploaded-media" id="backimg" src="" style="width:auto" alt="Uploaded Image"
                                style="width:100%; display:none;">
                        </div>
                    </div>
                    <!-- <div class="mb-3">
                    <label class="form-label">Upload Back Image of the Document or Any Supporting Document</label>
                    <input type="file" class="form-control" id="backImageUpload" accept="image/*">
                    <div class="form-text">Recommended Dimensions 500x300 px</div>
                </div> -->

                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>

            </div>

            <!-- Form End -->


            <!-- Footer Start -->
            <div class="container-fluid pt-4 px-4">
                <div class="bg-light rounded-top p-4">
                    <div class="row">
                        <div class="col-12 col-sm-6 text-center text-sm-start">
                            &copy; <a href="#">SlilconSloultions</a>, All Right Reserved.
                        </div>
                        <div class="col-12 col-sm-6 text-center text-sm-end">
                            Designed By <a href="https://SlilconSloultions.com">SlilconSloultions</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer End -->
        </div>
        <!-- Content End -->


        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/chart/chart.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>




    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    <script type="module">
        import { checkifsingedin, saveVerify, fetchverifydata } from "./js/firebase.js";
        window.fetchverifydata = fetchverifydata;
        window.checkifsingedin = checkifsingedin;
        window.saveVerify = saveVerify;
    </script>
    <script>
        const uid = localStorage.getItem("uid");
        document.addEventListener('DOMContentLoaded', function () {
            fetchverifydata(uid);
        });
        document.getElementById('verifyform').addEventListener('submit', function (event) {
            event.preventDefault();
            const frontImage = document.getElementById('frontImageUpload').files[0];
            const backImage = document.getElementById('backImageUpload').files[0];
            const frontimg = document.getElementById('frontimg');
            const backimg = document.getElementById('backimg');
            var isnewimg1 = false;                  // Get values from inputs
            var isnewimg2 = false;                  // Get values from inputs
            var imageUpload1; // For file inputs, get the first file
            var imageUpload2; // For file inputs, get the first file
            if (frontImage) {
                imageUpload1 = frontImage; // For file inputs, get the first file
                isnewimg1 = true;                  // Get values from inputs
            } else {
            }
            if (backImage) {
                imageUpload2 = backImage; // For file inputs, get the first file
                isnewimg2 = true;                  // Get values from inputs
            } else {

            }
            // T
            const verify = {
                verify: {
                    idNumber: document.getElementById('idNumber').value,
                    detailedAddress: document.getElementById('detailedAddress').value,
                    region: document.getElementById('region').value,
                    issueCountry: document.getElementById('issueCountry').value,
                    documentType: document.querySelector('input[name="identificationPlan"]:checked').value,
                }
            };
            saveVerify(uid, verify, isnewimg1, isnewimg2, imageUpload1, imageUpload2);
        });
    </script>
    
    <script>
        // document.addEventListener('DOMContentLoaded', function () {
        //     const countrySelect = document.getElementById('issueCountry');
        //     const regionSelect = document.getElementById('region');

        //     const regions = {
        //         egypt: [
        //             'Cairo', 'Alexandria', 'Giza', 'Aswan', 'Luxor', 'Mansoura',
        //             'Tanta', 'Suez', 'Port Said', 'Ismailia', 'Damanhur',
        //             'Beni Suef', 'Minya', 'Assiut', 'Sohag', 'Qena', 'Damietta',
        //             'Kafr El Sheikh', 'Sharqia', 'Monufia'
        //         ],
        //         saudiArabia: [
        //             'Riyadh', 'Jeddah', 'Dammam', 'Mecca', 'Medina', 'Khobar',
        //             'Dhahran', 'Jubail', 'Abha', 'Khamis Mushait', 'Najran',
        //             'Buraidah', 'Hail', 'Tabuk', 'Arar', 'Jazan', 'Al Qunfudhah'
        //         ],
        //         uae: [
        //             'Abu Dhabi', 'Dubai', 'Sharjah', 'Ajman', 'Umm Al-Quwain',
        //             'Fujairah', 'Ras Al Khaimah', 'Al Ain', 'Khalifa City',
        //             'Al Dhafra', 'Al Nahyan', 'Al Reem Island'
        //         ]
        //     };

        //     countrySelect.addEventListener('change', function () {
        //         const selectedCountry = this.value;
        //         const countryRegions = regions[selectedCountry] || [];

        //         // Clear existing options
        //         regionSelect.innerHTML = '<option value="" disabled selected>Select Region</option>';

        //         // Add new options based on selected country
        //         countryRegions.forEach(function (region) {
        //             const option = document.createElement('option');
        //             option.value = region.toLowerCase().replace(/\s+/g, '');
        //             option.textContent = region;
        //             regionSelect.appendChild(option);
        //         });
        //     });
        // });
        document.addEventListener("DOMContentLoaded", function () {
  const regionSelect = document.getElementById("region");
  const countrySelect = document.getElementById("issueCountry");

  const regions = {
    egypt: [
      "Cairo",
      "Alexandria",
      "Giza",
      "Aswan",
      "Luxor",
      "Mansoura",
      "Tanta",
      "Suez",
      "Port Said",
      "Ismailia",
      "Damanhur",
      "Beni Suef",
      "Minya",
      "Assiut",
      "Sohag",
      "Qena",
      "Damietta",
      "Kafr El Sheikh",
      "Sharqia",
      "Monufia",
    ],
    saudiArabia: [
      "Riyadh",
      "Jeddah",
      "Dammam",
      "Mecca",
      "Medina",
      "Khobar",
      "Dhahran",
      "Jubail",
      "Abha",
      "Khamis Mushait",
      "Najran",
      "Buraidah",
      "Hail",
      "Tabuk",
      "Arar",
      "Jazan",
      "Al Qunfudhah",
    ],
    uae: [
      "Abu Dhabi",
      "Dubai",
      "Sharjah",
      "Ajman",
      "Umm Al-Quwain",
      "Fujairah",
      "Ras Al Khaimah",
      "Al Ain",
      "Khalifa City",
      "Al Dhafra",
      "Al Nahyan",
      "Al Reem Island",
    ],
  };

  // Update regions when the country selection changes
  countrySelect.addEventListener("change", function () {
    const selectedCountry = countrySelect.value; // Get the selected country
    const countryRegions = regions[selectedCountry] || []; // Get regions for the selected country

    // Clear existing options
    regionSelect.innerHTML = '<option value="">Select Region</option>';

    // Add new options based on selected country
    countryRegions.forEach(function (region) {
      const option = document.createElement("option");
      option.value = region.toLowerCase().replace(/\s+/g, "");
      option.textContent = region;
      regionSelect.appendChild(option);
    });
  });
});

    </script>
</body>

</html>